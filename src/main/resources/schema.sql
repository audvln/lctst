CREATE MEMORY TABLE PUBLIC.RESTAURANT(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
    NAME VARCHAR(32) NOT NULL,
    UNIQUE(NAME)
);

CREATE MEMORY TABLE PUBLIC.USER(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
    NAME VARCHAR(32) NOT NULL,
    ROLE VARCHAR(10) DEFAULT 'user' NOT NULL
);

CREATE MEMORY TABLE PUBLIC.MENU_ITEM(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
    DESCRIPTION VARCHAR(50) NOT NULL,
    PRICE INTEGER NOT NULL,
    RESTAURANT INTEGER NOT NULL,
    DATE DATE,
    UNIQUE(RESTAURANT,DESCRIPTION)
);

CREATE MEMORY TABLE PUBLIC.VOTE(
    USERID INTEGER NOT NULL PRIMARY KEY,
    RESTAURANT INTEGER NOT NULL,
    DATE DATE,
    FOREIGN KEY(RESTAURANT) REFERENCES PUBLIC.RESTAURANT(ID),
    FOREIGN KEY(USERID) REFERENCES PUBLIC.USER(ID)
);
